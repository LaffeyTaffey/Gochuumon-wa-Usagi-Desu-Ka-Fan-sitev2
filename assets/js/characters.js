const characterSectionsData = {
    "Cocoa Hoto": {
        bio: {
            appearance: "Cocoa has strawberry blonde shoulder-length hair with loose bangs, decorated with a cherry blossom hair clip on the side of her head. She has purple Tareme eyes. ",
            personality: "Cheerful, energetic, and friendly. She has a strong desire to be an older sister figure to others, especially Chino. Sometimes clumsy but always well-meaning. She's skilled at making latte art and has a natural talent for remembering orders."
        },
        history: "Originally from the countryside, Cocoa moved to the town to attend high school and began living and working at the Rabbit House café. She quickly adapted to city life and formed close bonds with her coworkers.",
        relationships: [
            "Chino Kafū - Views her as a younger sister and constantly tries to dote on her",
            "Rize Tedeza - Admires her cool demeanor and relies on her for guidance",
            "Chiya Ujimatsu - Close friend and fellow sister-figure enthusiast",
            "Syaro Kirima - Good friend who she often teases",
            "Mocha Hoto - Her actual older sister whom she deeply respects"
        ],
        etymology: "Her name 'Cocoa' refers to the hot chocolate drink, following the coffee/drink-themed naming pattern in the series.",
        quotes: [
            "I want to be Chino-chan's big sister!",
            "The Rabbit House is my second home!",
            "Everyone, let's do our best together!"
        ],
        music: [
            "Character Song: 'Poppin Jump♪'",
            "Duo Song with Chino: 'Nakayoshi! Maru❤Maze'",
            "Group Songs with various character combinations"
        ],
        trivia: [
            "Expert at making latte art",
            "Can remember complex orders without writing them down",
            "Tends to take lots of photos of Chino",
            "Has a habit of hugging people suddenly",
            "Birthday falls on April 10th (Aries)"
        ]
    },

    "Chino Kafū": {
        bio: {
            appearance: "Chino has light blue hair styled in a short bob cut and blue eyes. She's petite for her age and usually wears her school uniform or the Rabbit House café uniform. She's almost always seen with Tippy sitting on her head.",
            personality: "Quiet, mature, and responsible despite her young age. She can be somewhat shy and reserved but is gradually becoming more outgoing thanks to her friends' influence. Very diligent in her work at the café."
        },
        history: "Born into the Kafū family, Chino has lived at Rabbit House her entire life. After losing her mother at a young age, she was raised by her father and grandfather. When her grandfather passed away, his spirit mysteriously transferred into Tippy, the café's angora rabbit.",
        relationships: [
            "Cocoa Hoto - Initially reluctant about her sisterly advances but gradually warms up to her",
            "Rize Tedeza - Looks up to her as a reliable senior figure",
            "Tippy/Grandfather - Her grandfather's spirit residing in the rabbit",
            "Takahiro Kafū - Her father, whom she helps run the café",
            "Maya and Megumi - Her closest friends from school"
        ],
        etymology: "Her name 'Chino' comes from 'cappuccino', continuing the coffee-themed naming pattern.",
        quotes: [
            "Please don't treat me like a child...",
            "Cocoa-san, you're being embarrassing again.",
            "Welcome to Rabbit House."
        ],
        music: [
            "Character Song: 'Kokoro Pyon Pyon'",
            "Duo Song with Cocoa: 'Nakayoshi! Maru❤Maze'",
            "Various group performances"
        ],
        trivia: [
            "Excellent at brewing coffee despite her age",
            "Can communicate with Tippy telepathically",
            "Slowly growing taller throughout the series",
            "Has a secret collection of stuffed animals",
            "Birthday is December 4th (Sagittarius)"
        ]
    },

    "Rize Tedeza": {
        bio: {
            appearance: "Rize has long purple hair usually tied in a ponytail and striking red eyes. She has a tall, athletic build and usually wears her school uniform or Rabbit House uniform. Often carries military-style accessories.",
            personality: "Serious, responsible, and somewhat militaristic due to her upbringing. Despite her tough exterior, she's actually quite feminine and caring. Has difficulty being honest about her feelings."
        },
        history: "Daughter of a military officer, Rize was raised with strict discipline and military training. She chose to attend a normal high school against her father's wishes and began working at Rabbit House to experience civilian life.",
        relationships: [
            "Cocoa Hoto - Often exasperated by her antics but genuinely cares for her",
            "Chino Kafū - Protective of her and acts as a mentor figure",
            "Chiya Ujimatsu - Close friend who understands her feminine side",
            "Syaro Kirima - Childhood friend who knows her true nature",
            "Her Father - Complicated relationship due to different life views"
        ],
        etymology: "Her name comes from 'Thé des Alizés', a type of flavored tea.",
        quotes: [
            "This is not military training!",
            "I-it's not like I'm worried about you or anything...",
            "Mission accomplished."
        ],
        music: [
            "Character Song: 'Soldier Girl Heart'",
            "Various group songs and performances"
        ],
        trivia: [
            "Expert in various military tactics and weapons",
            "Secretly loves cute things",
            "Has excellent grades in school",
            "Carries military supplies in her bag",
            "Birthday is February 14th (Aquarius)"
        ]
    },

    "Tippy": {
        bio: {
            appearance: "A white angora rabbit with red eyes. Always seen perched on Chino's head. Has an unusually dignified bearing for a rabbit.",
            personality: "Wise and gentle, retaining the personality of Chino's grandfather. Acts as an advisor to the café staff while maintaining the appearance of a normal rabbit to customers."
        },
        history: "Originally just the café's pet rabbit, Tippy became the vessel for the spirit of Chino's grandfather after his passing through mysterious circumstances. Continues to watch over the café and his family in this form.",
        relationships: [
            "Chino Kafū - His granddaughter, whom he watches over",
            "Takahiro Kafū - His son, current owner of Rabbit House",
            "Cocoa Hoto - Appreciates her influence on Chino",
            "Café Staff - Guides them while maintaining his secret"
        ],
        etymology: "Name possibly derived from 'Tippy's Tea', though the exact origin is unclear.",
        quotes: [
            "Pyon pyon~ (various rabbit sounds with hidden meaning)",
            "Sometimes watching over them is all we can do",
            "The café is in good hands"
        ],
        music: [
            "Background presence in various character songs",
            "Occasional comedic sound effects"
        ],
        trivia: [
            "Can only be understood by Chino",
            "Still enjoys coffee despite being a rabbit",
            "Maintains the secret of his true identity",
            "Symbol of the Rabbit House café",
            "Age as a rabbit is unknown"
        ]
    },

    "Takahiro Kafū": {
        bio: {
            appearance: "Tall man with dark hair and gentle features. Usually seen in casual clothing or his barista uniform.",
            personality: "Kind and patient father figure. Professional as a barista while maintaining a warm atmosphere in the café. Sometimes worries about being overprotective of Chino."
        },
        history: "Inherited the Rabbit House café from his father. Lost his wife when Chino was young and has been raising her single-handedly while running the business. Supports his daughter's friends and their endeavors.",
        relationships: [
            "Chino Kafū - His daughter, whom he loves and protects",
            "Cocoa Hoto - Appreciates her influence on Chino",
            "Rize Tedeza - Respects her discipline and responsibility",
            "Tippy/Grandfather - His father's spirit, whom he still seeks advice from"
        ],
        etymology: "His name 'Takahiro' means 'wide generosity' or 'broad tolerance'.",
        quotes: [
            "Welcome to Rabbit House!",
            "Chino, don't overwork yourself",
            "I'm proud of you, Chino"
        ],
        music: [
            "Background presence in various character songs",
            "Occasional comedic sound effects"
        ],
        trivia: [
            "Excellent barista with a passion for coffee",
            "Supports his daughter's friends",
            "Sometimes worries about being too overprotective",
            "Maintains the family business",
            "Age is around 35-38"
        ]
    },

    "Saki Kafū": {
        bio: {
            appearance: "Chino's mother, who passed away when Chino was young. Her appearance is not well-documented.",
            personality: "Kind and caring, based on Chino's memories and Takahiro's descriptions. Her personality is somewhat of a mystery due to her early passing."
        },
        history: "Married Takahiro and had Chino. Passed away due to illness when Chino was very young. Her memory continues to influence the family and their relationships.",
        relationships: [
            "Takahiro Kafū - Her husband, whom she loved and supported",
            "Chino Kafū - Her daughter, whom she cherished",
            "Tippy/Grandfather - Her father-in-law, who helped raise Chino"
        ],
        etymology: "Her name 'Saki' means 'blossom' or 'hope'.",
        quotes: [
            "None directly, but her memory is cherished by the family"
        ],
        music: [
            "Background presence in various character songs",
            "Occasional nostalgic sound effects"
        ],
        trivia: [
            "Passed away when Chino was young",
            "Her memory is still cherished by the family",
            "Influence on Chino's personality and relationships",
            "Age at passing is unknown"
        ]
    },

    "Chiya Ujimatsu": {
        bio: {
            appearance: "Chiya has long dark blue hair with a purple tinge and blue eyes. She usually wears traditional Japanese clothing or her café uniform. Has a graceful and mature appearance.",
            personality: "Elegant and traditional, yet can be quite mischievous. Very caring towards her friends and takes pride in Japanese customs. Has a playful side that sometimes contrasts with her formal appearance."
        },
        history: "Born into a family that runs a traditional Japanese sweets shop, Chiya was raised with strong cultural values. She manages Ama Usa An while attending high school, continuing her family's legacy of making Japanese confections.",
        relationships: [
            "Cocoa Hoto - Close friend and fellow sister-figure enthusiast",
            "Syaro Kirima - Childhood friend whom she often teases",
            "Rize Tedeza - Close friend who appreciates her traditional side",
            "Chino Kafū - Views her as a younger sister figure",
            "Her Grandmother - Taught her the art of making wagashi"
        ],
        etymology: "Her name 'Chiya' relates to tea (cha) and her family's traditional tea house business.",
        quotes: [
            "Ara ara~",
            "Would you like some green tea with your wagashi?",
            "My, how interesting..."
        ],
        music: [
            "Character Song: 'Kokoro Kimi ni Todoke'",
            "Various duets with Syaro",
            "Group performance songs"
        ],
        trivia: [
            "Expert at making traditional Japanese sweets",
            "Can be surprisingly devious despite her elegant appearance",
            "Has a collection of funny photos of Syaro",
            "Excellent at traditional Japanese arts",
            "Birthday is January 1st (Capricorn)"
        ]
    },

    "Anko": {
        bio: {
            appearance: "A small black rabbit with a white patch on its face. Often seen around Ama Usa An.",
            personality: "Playful and friendly, typical of a well-cared-for pet rabbit. Shows particular attachment to Chiya."
        },
        history: "Named after anko (red bean paste), a common ingredient in Japanese sweets. Lives at Ama Usa An and serves as the shop's mascot.",
        relationships: [
            "Chiya Ujimatsu - Primary caretaker and owner",
            "Tippy - Fellow rabbit mascot",
            "Shop Visitors - Friendly with customers"
        ],
        etymology: "Named after 'anko' (餡子), sweet red bean paste used in Japanese confectionery.",
        quotes: [
            "*Rabbit noises*",
            "*Happy munching sounds*"
        ],
        music: [
            "Background presence in shop scenes",
            "Cute sound effects in various episodes"
        ],
        trivia: [
            "Loves Japanese sweets, especially those containing anko",
            "Often used as a model for new sweets designs",
            "Has a special friendship with Tippy",
            "Helps attract customers to the shop",
            "Age unknown but still young and energetic"
        ]
    },

    "Syaro Kirima": {
        bio: {
            appearance: "Syaro has short blonde hair and blue eyes. Usually wears her school uniform or her café uniform. Has a petite build and youthful appearance.",
            personality: "Hardworking and serious, but prone to anxiety. Tries to maintain a refined image despite financial struggles. Becomes hyperactive when consuming caffeine."
        },
        history: "Comes from a modest background and works hard to attend a prestigious school. Runs Fleur de Lapin café from her home to support herself while maintaining her studies.",
        relationships: [
            "Chiya Ujimatsu - Childhood friend who knows her true circumstances",
            "Rize Tedeza - Has a major admiration for her",
            "Cocoa Hoto - Friend who often unintentionally causes her stress",
            "Wild Geese - Her mysterious part-time worker"
        ],
        etymology: "Her name 'Syaro' comes from 'Kilimanjaro coffee', though she ironically can't handle caffeine.",
        quotes: [
            "I-I'm actually not that wealthy...",
            "Please don't give me coffee!",
            "Rize-senpai..."
        ],
        music: [
            "Character Song: 'Cafeine Fighter'",
            "Various duets with Chiya",
            "Group performance songs"
        ],
        trivia: [
            "Becomes hyperactive from even small amounts of caffeine",
            "Actually poor despite attending an elite school",
            "Has a massive crush on Rize",
            "Expert at brewing tea",
            "Birthday is November 11th (Scorpio)"
        ]
    },

    "Wild Geese": {
        bio: {
            appearance: "A mysterious figure whose true appearance is never clearly shown. Often depicted in shadows or from obscure angles.",
            personality: "Reliable and hardworking despite their mysterious nature. Shows dedication to helping Syaro with the café."
        },
        history: "Background unknown. Appeared one day to help at Fleur de Lapin and has been a reliable worker since.",
        relationships: [
            "Syaro Kirima - Employer and person they assist",
            "Café Customers - Professional service relationship"
        ],
        etymology: "Name possibly refers to migratory birds, reflecting their mysterious nature.",
        quotes: [
            "*Mysterious noises*",
            "*Efficient working sounds*"
        ],
        music: [
            "Background presence in café scenes",
            "Mysterious theme music when appearing"
        ],
        trivia: [
            "True identity never revealed",
            "Extremely efficient at café work",
            "Appears and disappears mysteriously",
            "Never speaks clearly on screen",
            "Loyal to Syaro and the café"
        ]
    },

    "Mocha Hoto": {
        bio: {
            appearance: "Mocha has long brown hair and brown eyes. She's taller than Cocoa and has a more mature appearance. Often seen in casual clothes or her bakery uniform.",
            personality: "Cheerful, caring, and responsible. Has a strong big sister instinct, especially towards Cocoa. Very skilled at baking and running the family business."
        },
        history: "Eldest daughter of the Hoto family. Manages the family bakery 'Hot Bakery' while her parents are away. Encouraged Cocoa to experience life away from home.",
        relationships: [
            "Cocoa Hoto - Younger sister whom she dotes on",
            "Chino Kafū - Views her as another little sister",
            "Rize, Chiya, Syaro - Friendly with Cocoa's friends",
            "Hoto Parents - Manages the bakery in their absence"
        ],
        etymology: "Her name 'Mocha' refers to the coffee and chocolate drink, continuing the beverage theme.",
        quotes: [
            "Cocoa, you've grown so much!",
            "Everyone, please enjoy our fresh bread!",
            "Ara ara, what do we have here?"
        ],
        music: [
            "Character Song: 'Sister's Noise'",
            "Duet with Cocoa: 'Hoto Sisters' Harmony'"
        ],
        trivia: [
            "Expert baker, especially with bread",
            "Has a habit of hugging people suddenly, like Cocoa",
            "Can be overprotective of Cocoa",
            "Excellent at managing the bakery",
            "Birthday is June 6th (Gemini)"
        ]
    },

    "Cocoa's Mother": {
        bio: {
            appearance: "Middle-aged woman with a kind face. Her exact appearance is not often shown in detail.",
            personality: "Caring and supportive mother. Encourages her children's independence while maintaining a loving presence."
        },
        history: "Mother of Cocoa and Mocha. Runs Hot Bakery with her husband but often travels, leaving Mocha in charge.",
        relationships: [
            "Cocoa Hoto - Her younger daughter",
            "Mocha Hoto - Her elder daughter",
            "Cocoa's Father - Her husband",
            "Cocoa's Brothers - Her sons"
        ],
        etymology: "Her full name is not revealed in the series.",
        quotes: [
            "Take care of yourself, Cocoa.",
            "We're proud of you girls."
        ],
        music: [
            "Background presence in family scenes"
        ],
        trivia: [
            "Skilled baker who taught her daughters",
            "Supportive of Cocoa's decision to live away from home",
            "Often travels with her husband",
            "Maintains contact with Cocoa through letters and calls",
            "Age estimated to be in her 40s"
        ]
    },

    "Cocoa's Brothers": {
        bio: {
            appearance: "Young boys with features similar to Cocoa. Exact appearances not frequently shown.",
            personality: "Energetic and playful. Look up to their older sisters."
        },
        history: "Younger brothers of Cocoa and Mocha. Live at home and help out at Hot Bakery.",
        relationships: [
            "Cocoa Hoto - Their older sister",
            "Mocha Hoto - Their eldest sister",
            "Cocoa's Parents - Their parents"
        ],
        etymology: "Their names are not revealed in the series.",
        quotes: [
            "Welcome home, Cocoa-nee!",
            "Can we help at the bakery?"
        ],
        music: [
            "Background presence in family scenes"
        ],
        trivia: [
            "Help out at Hot Bakery",
            "Miss Cocoa when she's away",
            "Enjoy playing with their sisters",
            "Learning baking skills from family",
            "Ages estimated to be around 10-13"
        ]
    },

    "Cocoa's Father": {
        bio: {
            appearance: "Middle-aged man with a kind demeanor. Exact appearance not frequently shown in detail.",
            personality: "Supportive and hardworking father. Runs the family bakery with dedication."
        },
        history: "Father of Cocoa, Mocha, and their brothers. Co-owns and operates Hot Bakery with his wife.",
        relationships: [
            "Cocoa Hoto - His younger daughter",
            "Mocha Hoto - His elder daughter",
            "Cocoa's Mother - His wife",
            "Cocoa's Brothers - His sons"
        ],
        etymology: "His full name is not revealed in the series.",
        quotes: [
            "Work hard and enjoy your time away, Cocoa.",
            "The bakery will always be here for you."
        ],
        music: [
            "Background presence in family scenes"
        ],
        trivia: [
            "Master baker who runs Hot Bakery",
            "Supportive of his children's aspirations",
            "Often travels with his wife for business",
            "Taught his daughters baking skills",
            "Age estimated to be in his 40s"
        ]
    },

"Maya Jōga": {
        bio: {
            appearance: "Maya has short brown hair and brown eyes. Usually seen in her school uniform.",
            personality: "Energetic and outgoing. Often the instigator of activities among her friends. Has a habit of nicknaming people."
        },
        history: "Classmate and close friend of Chino and Megumi. Regular customer at Rabbit House.",
        relationships: [
            "Chino Kafū - Close friend and classmate",
            "Megumi Natsu - Close friend and classmate",
            "Cocoa, Rize, Chiya, Syaro - Friendly acquaintances"
        ],
        etymology: "Her name 'Maya' might be derived from 'Maia', a star in the Pleiades constellation.",
        quotes: [
            "Chi-chan, Megu-chan, let's go!",
            "Wow, Rabbit House is so cozy!"
        ],
        music: [
            "Background vocals in some group songs"
        ],
        trivia: [
            "Often visits Rabbit House with Megumi",
            "Likes to give nicknames to her friends",
            "Energetic and always up for fun activities",
            "Supports Chino in becoming more outgoing",
            "Birthday is October 31st (Scorpio)"
        ]
    },

    "Megumi Natsu": {
        bio: {
            appearance: "Megumi has long brown hair often tied in twintails and brown eyes. Usually seen in her school uniform.",
            personality: "Calm and level-headed. Often acts as the voice of reason among her friends. Kind and supportive."
        },
        history: "Classmate and close friend of Chino and Maya. Regular customer at Rabbit House.",
        relationships: [
            "Chino Kafū - Close friend and classmate",
            "Maya Jōga - Close friend and classmate",
            "Cocoa, Rize, Chiya, Syaro - Friendly acquaintances"
        ],
        etymology: "Her name 'Megumi' means 'blessing' or 'grace' in Japanese.",
        quotes: [
            "Maya-chan, maybe we should think this through...",
            "Chino-chan, you've been working hard!"
        ],
        music: [
            "Background vocals in some group songs"
        ],
        trivia: [
            "Often the voice of reason in her friend group",
            "Supports Chino and Maya in their endeavors",
            "Regular visitor to Rabbit House",
            "Balances Maya's energetic personality",
            "Birthday is August 10th (Leo)"
        ]
    },

    "Aoyama Blue Mountain": {
        bio: {
            appearance: "Tall woman with long blonde hair and blue eyes. Often seen in casual, stylish clothing.",
            personality: "Eccentric and dramatic. Passionate about writing and prone to theatrical gestures. Kind-hearted despite her flamboyant nature."
        },
        history: "Renowned author of romance novels. Lives in the town and occasionally visits Rabbit House.",
        relationships: [
            "Cocoa Hoto - Inspired by her story",
            "Rize Tedeza - Mutual respect for each other's passions",
            "Chiya Ujimatsu - Friendly acquaintance"
        ],
        etymology: "Her pen name 'Aoyama Blue Mountain' reflects her dramatic personality.",
        quotes: [
            "Ah, the drama! The romance!",
            "Cocoa-chan, your story has inspired me!"
        ],
        music: [
            "Background presence in some scenes"
        ],
        trivia: [
            "Famous romance novelist",
            "Inspired by Cocoa's story",
            "Dramatic and flamboyant personality",
            "Respects Rize's passion for guns",
            "Age estimated to be in her 30s"
        ]
    },
"Rin Mate": {
        bio: {
            appearance: "Young woman with short dark hair and glasses. Often seen in casual clothing.",
            personality: "Calm and collected. Has a dry sense of humor and is supportive of her friends."
        },
        history: "Friend of Aoyama Blue Mountain and occasional visitor to the town's cafes.",
        relationships: [
            "Aoyama Blue Mountain - Close friend",
            "Cafe staff - Friendly acquaintance"
        ],
        etymology: "Her name 'Rin' could mean 'dignified' or 'severe' in Japanese.",
        quotes: [
            "Aoyama-sensei, please try to meet your deadlines.",
            "This cafe has a nice atmosphere."
        ],
        trivia: [
            "Often helps Aoyama with her work",
            "Enjoys visiting various cafes in town",
            "Has a calm demeanor that balances Aoyama's eccentricity",
            "Occasionally appears in cafe scenes"
        ]
    },

    "Karede Yura": {
        bio: {
            appearance: "Young woman with long light-colored hair. Usually seen in casual, fashionable clothing.",
            personality: "Cheerful and friendly. Has a passion for fashion and design."
        },
        history: "Works as a fashion designer and occasionally visits the town's cafes.",
        relationships: [
            "Cafe staff and customers - Friendly acquaintance"
        ],
        etymology: "Her name 'Karede' might be a play on words related to fashion or design.",
        quotes: [
            "This outfit would look perfect on you!",
            "The atmosphere here is so inspiring."
        ],
        trivia: [
            "Works in the fashion industry",
            "Enjoys visiting cafes for inspiration",
            "Sometimes comments on characters' outfits",
            "Appears occasionally in cafe scenes"
        ]
    },

    "Ginger Natsume": {
        bio: {
            appearance: "Young woman with long ginger-colored hair. Often seen in casual, sporty attire.",
            personality: "Energetic and athletic. Has a competitive spirit and loves outdoor activities."
        },
        history: "Local sports enthusiast who frequents the town's cafes.",
        relationships: [
            "Ginger Elu - Twin sister",
            "Cafe staff and customers - Friendly acquaintance"
        ],
        etymology: "Her name 'Ginger' refers to her hair color, while 'Natsume' could mean 'summer eye'.",
        quotes: [
            "Let's have a race to the cafe!",
            "This drink is perfect after a workout."
        ],
        trivia: [
            "Twin sister of Ginger Elu",
            "Often seen participating in sports activities",
            "Enjoys energizing drinks at cafes",
            "Makes occasional appearances in outdoor scenes"
        ]
    },

    "Ginger Elu": {
        bio: {
            appearance: "Young woman with long ginger-colored hair, similar to her twin. Often seen in casual, comfortable clothing.",
            personality: "More laid-back compared to her twin. Enjoys relaxation and has a calm demeanor."
        },
        history: "Twin sister of Ginger Natsume and occasional cafe visitor.",
        relationships: [
            "Ginger Natsume - Twin sister",
            "Cafe staff and customers - Friendly acquaintance"
        ],
        etymology: "Her name 'Ginger' refers to her hair color, while 'Elu' might be a variant of a name meaning 'light'.",
        quotes: [
            "Natsume, let's just relax at the cafe today.",
            "This tea is so soothing."
        ],
        trivia: [
            "Twin sister of Ginger Natsume",
            "Prefers relaxation over intense activities",
            "Enjoys calm atmospheres in cafes",
            "Often balances out her sister's energy"
        ]
    },

    "Fuiba Fuyu": {
        bio: {
            appearance: "Young woman with long, light-colored hair. Often seen in warm, cozy clothing.",
            personality: "Gentle and soft-spoken. Has a love for winter and cozy atmospheres."
        },
        history: "Local resident who enjoys visiting cafes, especially during colder months.",
        relationships: [
            "Cafe staff and customers - Friendly acquaintance"
        ],
        etymology: "Her name 'Fuiba' might relate to 'fuyuba' meaning 'winter leaf', while 'Fuyu' means 'winter' in Japanese.",
        quotes: [
            "The cafe feels so warm and inviting.",
            "I love how cozy it is here in winter."
        ],
        trivia: [
            "Has a strong preference for winter",
            "Often seen in cafes during colder seasons",
            "Enjoys warm drinks and comfortable atmospheres",
            "Makes occasional appearances, particularly in winter-themed episodes"
        ]
    }
};

document.addEventListener('DOMContentLoaded', function() {
    // Character tab functionality
    const characterTabs = document.querySelectorAll('.characters-tabs .tab-btn');
    const characterContents = document.querySelectorAll('.characters-content');

    const modal = document.getElementById('characterImageModal');
    const modalImg = document.getElementById('characterModalImg');
    const closeBtn = document.querySelector('.character-modal-close');

    // Add click event to all character images
    document.querySelectorAll('.character-image').forEach(image => {
        image.addEventListener('click', function() {
            const img = this.querySelector('img');
            modal.style.display = 'block';
            modalImg.src = img.src;
            // Force reflow
            modal.offsetHeight;
            modal.classList.add('show');
        });
    });

    // Close modal when clicking the close button
    closeBtn.addEventListener('click', closeImageModal);

    // Close modal when clicking outside the image
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeImageModal();
        }
    });

    function closeImageModal() {
        modal.classList.remove('show');
        setTimeout(() => {
            modal.style.display = 'none';
        }, 300);
    }

    characterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            // Remove active class from all tabs
            characterTabs.forEach(t => t.classList.remove('active'));
            
            // Add active class to clicked tab
            tab.classList.add('active');
            
            const contentId = tab.getAttribute('data-tab');
            const newContent = document.getElementById(contentId);
            
            // Fade out current active content
            const currentActiveContent = document.querySelector('.characters-content.active');
            if (currentActiveContent) {
                currentActiveContent.style.opacity = '0';
                currentActiveContent.style.transform = 'translateY(20px)';
                
                // Wait for fade out transition to complete
                setTimeout(() => {
                    currentActiveContent.classList.remove('active');
                    currentActiveContent.style.display = 'none';
                    
                    // Show and fade in new content
                    newContent.style.display = 'block';
                    newContent.classList.add('active');
                    
                    // Force reflow
                    newContent.offsetHeight;
                    
                    newContent.style.opacity = '1';
                    newContent.style.transform = 'translateY(0)';
                    
                    // Reset AOS animations for the new content
                    if (typeof AOS !== 'undefined') {
                        AOS.refresh();
                    }
                }, 300); // Match this with your CSS transition time
            } else {
                // If no active content, just show the new content
                newContent.style.display = 'block';
                newContent.classList.add('active');
                newContent.style.opacity = '1';
                newContent.style.transform = 'translateY(0)';
                
                if (typeof AOS !== 'undefined') {
                    AOS.refresh();
                }
            }
        });
    });

    // Character sections functionality (keep this part as it was)
    document.querySelectorAll('.character-sections li').forEach(section => {
        section.addEventListener('click', function() {
            const characterName = this.closest('.character-card').querySelector('h3').textContent.trim();
            const sectionName = this.textContent.trim().toLowerCase();
            
            if (!this.querySelector('ol')) {
                if (sectionName === 'appearance' || sectionName === 'personality') {
                    showSectionDetails(characterName, 'bio');
                } else {
                    showSectionDetails(characterName, sectionName);
                }
            }
        });
    });
});

function showSectionDetails(character, section) {
    const characterData = characterSectionsData[character];
    if (!characterData) {
        console.error('No data found for', character);
        return;
    }

    let sectionData = characterData[section.toLowerCase()];
    // Ensure the bio section is handled correctly
    if (!sectionData && section.toLowerCase() === 'bio') {
        sectionData = characterData['bio'];
    }

    if (!sectionData) {
        console.error('No data found for', character, section);
        return;
    }

    // Add blur to the character grid specifically
    const characterGrids = document.querySelectorAll('.character-grid');
    characterGrids.forEach(grid => {
        grid.classList.add('blur-background');
    });

    // Create overlay
    const overlay = document.createElement('div');
    overlay.classList.add('overlay');
    document.body.appendChild(overlay);

    // Create focused card
    const focusedCard = document.createElement('div');
    focusedCard.classList.add('character-card', 'focused');

    // Prepare content based on section data
    let contentHTML = '';

    if (typeof sectionData === 'object' && !Array.isArray(sectionData)) {
        contentHTML = Object.entries(sectionData)
            .map(([key, value]) => `
                <div class="subsection">
                    <h4>${key.charAt(0).toUpperCase() + key.slice(1)}</h4>
                    <p>${value}</p>
                </div>
            `).join('');
    } else if (Array.isArray(sectionData)) {
        contentHTML = `
            <ul>
                ${sectionData.map(item => `<li>${item}</li>`).join('')}
            </ul>
        `;
    } else {
        contentHTML = `<p>${sectionData}</p>`;
    }

    focusedCard.innerHTML = `
        <h3 data-aos="fade-up">${character}</h3>
        <div class="section-content" data-aos="fade-up">
            <h4>${section}</h4>
            <div class="section-info" data-aos="fade-up">
                ${contentHTML}
            </div>
            <button class="close-section" data-aos="fade-up" onclick="closeSectionView()">Back to Characters</button>
        </div>
    `;

    document.body.appendChild(focusedCard);
}

function closeSectionView() {
    const overlay = document.querySelector('.overlay');
    const focusedCard = document.querySelector('.character-card.focused');

    // Remove blur from the character grid
    const characterGrids = document.querySelectorAll('.character-grid');
    characterGrids.forEach(grid => {
        grid.classList.remove('blur-background');
    });

    if (overlay) {
        overlay.classList.add('fade-out');
        setTimeout(() => overlay.remove(), 300); // Wait for the transition before removing
    }

    if (focusedCard) {
        focusedCard.classList.add('fade-out');
        setTimeout(() => focusedCard.remove(), 300); // Wait for the transition before removing
    }
}